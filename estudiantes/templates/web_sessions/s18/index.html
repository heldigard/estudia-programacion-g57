<!--
  =====================================================
  S18: Tablas y Filtrado - PLANTILLA HTML
  =====================================================

  Esta p√°gina practica el concepto de TABLAS Y FILTRADO en JavaScript,
  que es equivalente a usar pandas y listas en Python.

  CONCEPTOS HTML UTILIZADOS:
  -------------------------
  <table> - Tabla HTML para datos estructurados
  <thead> - Cabecera de la tabla (t√≠tulos de columnas)
  <tbody> - Cuerpo de la tabla (datos)
  <tr> - Fila de la tabla (table row)
  <th> - Celda de encabezado (table header)
  <td> - Celda de datos (table data)
  <input type="search"> - Campo de b√∫squeda
  <select> - Lista desplegable
  <option> - Opci√≥n dentro de un select
  onclick="funcion()" - Ejecuta funci√≥n de JavaScript cuando hacen click
  data-atributo - Atributo personalizado para JavaScript

  CONEXI√ìN HTML ‚Üî JAVASCRIPT PARA TABLAS:
  -----------------------------------------------
  1. HTML: <input id="busquedaInput" type="search">
  2. JavaScript: document.getElementById("busquedaInput").value
  3. La funci√≥n filtra los datos y actualiza la tabla

  CONCEPTOS DE TABLAS:
  ---------------------
  - <table>: Contenedor principal de la tabla
  - <thead>: Cabecera (t√≠tulos de columnas)
  - <tbody>: Cuerpo (filas de datos)
  - <tr>: Row (fila) de la tabla
  - <th>: Header cell (celda de t√≠tulo)
  - <td>: Data cell (celda de dato)

  FILTRADO Y ORDENAMIENTO:
  ------------------------
  - Filtrado: Mostrar solo elementos que cumplen condici√≥n
  - Ordenamiento: Organizar elementos por un campo
  - Paginaci√≥n: Dividir datos en p√°ginas

  Equivalente Python:
  - Filtrado: [x for x in lista if condicion]
  - Ordenamiento: sorted(lista, key=lambda x: x.campo)
  - Paginaci√≥n: datos[start:end]
-->
<!DOCTYPE html>
<html lang="es">
<head>
  <!--
    =====================================================
    HEAD: Metadatos del documento
    =====================================================

    El head contiene informaci√≥n sobre el documento que NO se
    muestra directamente en la p√°gina, como el t√≠tulo y
    conexiones a archivos CSS/JS.
  -->
  <meta charset="UTF-8" />
  <!-- viewport: Hace la p√°gina responsiva (adaptable a m√≥viles) -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>S18 - Tablas y Filtrado</title>
  <!-- link rel="stylesheet": Conecta el archivo CSS que da estilo a la p√°gina -->
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <!-- main: Contenido principal de la p√°gina -->
  <main class="container">
    <!-- HEADER: Cabecera con t√≠tulo de la p√°gina -->
    <header class="header">
      <h1>üìä Pr√°ctica S18: Tablas y Filtrado</h1>
      <p class="subtitle">Python + JavaScript: Mostrar y filtrar datos</p>
    </header>

    <!--
      =====================================================
      TARJETA 1: TABLA DE ESTUDIANTES
      =====================================================

      Conceptos clave:
      - <table>: Estructura HTML para datos tabulares
      - Filtrado en tiempo real: Buscar mientras escribes
      - Ordenamiento: Click en encabezado para ordenar
      - Paginaci√≥n: Dividir datos en p√°ginas

      Equivalente Python:
      - pandas DataFrame ‚Üí Array de objetos JS
      - df[df['columna'] > valor] ‚Üí array.filter(x => x.campo > valor)
      - df.sort_values('columna') ‚Üí array.sort((a,b) => a.campo - b.campo)

      ESTRUCTURA DE UNA TABLA HTML:
      -------------------------------
      <table>
        <thead>                    <!-- Cabecera -->
          <tr>                    <!-- Fila de encabezados -->
            <th>Nombre</th>     <!-- Celda de t√≠tulo -->
            <th>Email</th>
          </tr>
        </thead>
        <tbody>                    <!-- Cuerpo de datos -->
          <tr>                    <!-- Fila de datos -->
            <td>Ana</td>         <!-- Celda de dato -->
            <td>ana@email.com</td>
          </tr>
        </tbody>
      </table>
    -->
    <section class="card highlight">
      <h2>üìã Tabla de Estudiantes</h2>
      <p class="hint">Datos estructurados con b√∫squeda, filtrado y ordenamiento</p>

      <!-- B√∫squeda: type="search" es un input especial para b√∫squeda -->
      <div class="search-box">
        <!-- placeholder: Texto de ejemplo que desaparece al escribir -->
        <input id="busquedaInput" type="search" placeholder="Buscar por nombre o email..." />
      </div>

      <!-- Filtros por curso: "chips" son botones peque√±os de filtro -->
      <div class="filter-row">
        <!-- data-curso: Atributo personalizado para JavaScript -->
        <span class="filter-chip active" data-curso="todos" onclick="filtrarPorCurso('todos')">Todos</span>
        <span class="filter-chip" data-curso="Python" onclick="filtrarPorCurso('Python')">Python</span>
        <span class="filter-chip" data-curso="JavaScript" onclick="filtrarPorCurso('JavaScript')">JavaScript</span>
      </div>

      <!-- Select: Lista desplegable de opciones -->
      <div class="input-group">
        <label for="filtroCurso">Filtrar por curso:</label>
        <select id="filtroCurso">
          <!-- option: Cada opci√≥n en la lista desplegable -->
          <option value="todos">Todos los cursos</option>
          <option value="Python">Python</option>
          <option value="JavaScript">JavaScript</option>
        </select>
      </div>

      <!-- Bot√≥n limpiar: Restablece todos los filtros -->
      <button class="btn option" onclick="limpiarFiltros()">üîÑ Limpiar Filtros</button>

      <!-- Info de resultados: Muestra cu√°ntos elementos se ven -->
      <div id="resultsInfo" class="results-info"></div>

      <!-- Tabla HTML: Estructura para mostrar datos tabulares -->
      <div class="tabla-container">
        <table>
          <!-- thead: Cabecera de la tabla (t√≠tulos de columnas) -->
          <thead>
            <tr>
              <!-- class="sortable": Indica que la columna es ordenable -->
              <!-- onclick="ordenarPor('nombre')": Ordena por nombre al hacer click -->
              <th class="sortable" data-columna="nombre" onclick="ordenarPor('nombre')">Nombre</th>
              <th class="sortable" data-columna="email" onclick="ordenarPor('email')">Email</th>
              <th class="sortable" data-columna="edad" onclick="ordenarPor('edad')">Edad</th>
              <th class="sortable" data-columna="curso" onclick="ordenarPor('curso')">Curso</th>
              <th class="sortable" data-columna="nota" onclick="ordenarPor('nota')">Nota</th>
            </tr>
          </thead>
          <!-- tbody: Cuerpo de la tabla (datos) -->
          <!-- Se llena din√°micamente con JavaScript -->
          <tbody id="tablaBody">
            <!-- Las filas se generan con JS -->
          </tbody>
        </table>
      </div>

      <!-- Paginaci√≥n: Botones para navegar entre p√°ginas -->
      <div id="pagination" class="pagination"></div>

      <!-- Bot√≥n cargar desde API: Obtiene datos de una API externa -->
      <button class="btn secondary" onclick="cargarDatosAPI()">üåê Cargar Datos desde API</button>
    </section>

    <!--
      =====================================================
      TARJETA 2: ESTAD√çSTICAS
      =====================================================

      Conceptos clave:
      - Estad√≠sticas autom√°ticas: Total, Promedio, M√°x, M√≠n
      - Se actualizan autom√°ticamente al filtrar datos
      - Equivalente Python: sum(), len(), max(), min()

      OPERACIONES PYTHON VS JS:
      -----------------------------
      Python: sum(lista)        JS: lista.reduce((a,b) => a+b, 0)
      Python: len(lista)        JS: lista.length
      Python: max(lista)        JS: Math.max(...lista)
      Python: min(lista)        JS: Math.min(...lista)
      Python: sum(lista)/len()   JS: lista.reduce((a,b) => a+b, 0) / lista.length
    -->
    <section class="card">
      <h2>üìà Estad√≠sticas</h2>
      <p class="hint">Resumen de los datos mostrados</p>

      <!-- stats-bar: Barra horizontal con estad√≠sticas -->
      <div class="stats-bar">
        <div class="stat-item">
          <!-- id="statTotal": Identificador para JavaScript actualizar -->
          <div class="stat-value" id="statTotal">0</div>
          <div class="stat-label">Total</div>
        </div>
        <div class="stat-item">
          <div class="stat-value" id="statPromedio">0</div>
          <div class="stat-label">Promedio</div>
        </div>
        <div class="stat-item">
          <div class="stat-value" id="statMax">0</div>
          <div class="stat-label">Nota M√°x</div>
        </div>
        <div class="stat-item">
          <div class="stat-value" id="statMin">0</div>
          <div class="stat-label">Nota M√≠n</div>
        </div>
      </div>
    </section>

    <!--
      =====================================================
      PANEL DE DEBUG / COMPARACI√ìN
      =====================================================

      Muestra las equivalencias entre Python y JavaScript
      para manipulaci√≥n de datos en tablas.

      PYTHON (pandas):
      - DataFrame: estructura de datos tabular
      - df[df['columna'] > valor]: Filtrar por condici√≥n
      - df.sort_values('columna'): Ordenar por columna

      JAVASCRIPT (arrays):
      - Array de objetos: equivalente a lista de diccionarios
      - array.filter(condicion): Filtrar por funci√≥n
      - array.sort(): Ordenar in-place o con copia

      CONCEPTOS CLAVE:
      ----------------
      - Filtrado: [x for x in lista if cond] ‚Üí lista.filter(x => cond)
      - Ordenamiento: sorted(lista, key=) ‚Üí lista.sort((a,b) => a.campo - b.campo)
      - Slice/Paginaci√≥n: datos[start:end] ‚Üí datos.slice(start, end)
      - DOM Manipulation: tbody.innerHTML para actualizar tabla HTML
    -->
    <section class="card debug">
      <h2>üêû Tablas: Python vs JavaScript</h2>
      <p class="hint">Manipulaci√≥n de datos en tablas</p>

      <!-- comparison: Dos columnas comparando Python y JavaScript -->
      <div class="comparison">
        <div class="python-code">
          <h4>Python</h4>
          <pre># Lista de diccionarios
estudiantes = [
    {"nombre": "Ana", "nota": 95},
    {"nombre": "Benito", "nota": 87}
]

# Filtrar
filtrados = [
    e for e in estudiantes
    if e["nota"] > 80
]

# Ordenar
ordenados = sorted(
    estudiantes,
    key=lambda x: x["nota"]
)

# Slice (paginaci√≥n)
pagina = ordenados[0:5]

# Pandas DataFrame
import pandas as pd
df = pd.DataFrame(estudiantes)
filtrados = df[df["nota"] > 80]</pre>
        </div>
        <div class="js-code">
          <h4>JavaScript</h4>
          <pre>// Array de objetos
const estudiantes = [
  {nombre: "Ana", nota: 95},
  {nombre: "Benito", nota: 87}
];

// Filtrar
const filtrados = estudiantes
  .filter(e => e.nota > 80);

// Ordenar
const ordenados = [...estudiantes]
  .sort((a, b) => a.nota - b.nota);

// Slice (paginaci√≥n)
const pagina = ordenados.slice(0, 5);

// Tabla HTML din√°mica
tbody.innerHTML = pagina.map(est => `
  <tr>
    <td>${est.nombre}</td>
    <td>${est.nota}</td>
  </tr>
`).join("");</pre>
        </div>
      </div>

      <!-- warning-box: Advertencias sobre diferencias clave -->
      <div class="warning-box">
        <strong>‚ö†Ô∏è DIFERENCIAS CLAVE:</strong><br>
        1. Python: <code>dict["campo"]</code> ‚Üí JS: <code>objeto.campo</code><br>
        2. Python: <code>sorted(lista, key=lambda x: x.campo)</code> ‚Üí JS: <code>lista.sort((a,b) => a.campo - b.campo)</code><br>
        3. Python: <code>lista[start:end]</code> ‚Üí JS: <code>lista.slice(start, end)</code><br>
        4. JS usa DOM para crear tabla HTML din√°micamente
      </div>
    </section>
  </main>

  <!--
    =====================================================
    CONECTAR JAVASCRIPT
    =====================================================

    S18 NO usa type="module" porque no tiene import/export.
    Simplemente conecta app.js directamente.

    FLUJO COMPLETO:
    ---------------
    1. Usuario escribe en input: oninput="busquedaEnTiempoReal()"
    2. JavaScript filtra datos seg√∫n el texto
    3. renderTabla() actualiza el tbody con filas nuevas
    4. renderStats() actualiza las estad√≠sticas visuales

    MANIPULACI√ìN DEL DOM:
    -------------------
    - document.getElementById(): Buscar elemento por ID
    - innerHTML: Reemplazar contenido HTML de un elemento
    - addEventListener(): Agregar escucha de eventos (input, click, etc)

    DIFERENCIA CON PYTHON:
    --------------------
    Python: print() muestra en consola
    JS: DOM manipulation muestra en la p√°gina web
    JS: Eventos (click, input) reaccionan a usuario
  -->
  <script src="app.js"></script>
</body>
</html>
