<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>S18 - Tablas y Filtrado</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <main class="container">
    <header class="header">
      <h1>ğŸ“Š PrÃ¡ctica S18: Tablas y Filtrado</h1>
      <p class="subtitle">Python + JavaScript: Mostrar y filtrar datos</p>
    </header>

    <!-- Tarjeta 1: Tabla de Estudiantes -->
    <section class="card highlight">
      <h2>ğŸ“‹ Tabla de Estudiantes</h2>
      <p class="hint">Datos estructurados con bÃºsqueda, filtrado y ordenamiento</p>

      <!-- BÃºsqueda -->
      <div class="search-box">
        <input id="busquedaInput" type="search" placeholder="Buscar por nombre o email..." />
      </div>

      <!-- Filtros por curso -->
      <div class="filter-row">
        <span class="filter-chip active" data-curso="todos" onclick="filtrarPorCurso('todos')">Todos</span>
        <span class="filter-chip" data-curso="Python" onclick="filtrarPorCurso('Python')">Python</span>
        <span class="filter-chip" data-curso="JavaScript" onclick="filtrarPorCurso('JavaScript')">JavaScript</span>
      </div>

      <!-- Select de filtro -->
      <div class="input-group">
        <label for="filtroCurso">Filtrar por curso:</label>
        <select id="filtroCurso">
          <option value="todos">Todos los cursos</option>
          <option value="Python">Python</option>
          <option value="JavaScript">JavaScript</option>
        </select>
      </div>

      <!-- BotÃ³n limpiar -->
      <button class="btn option" onclick="limpiarFiltros()">ğŸ”„ Limpiar Filtros</button>

      <!-- Info de resultados -->
      <div id="resultsInfo" class="results-info"></div>

      <!-- Tabla -->
      <div class="tabla-container">
        <table>
          <thead>
            <tr>
              <th class="sortable" data-columna="nombre" onclick="ordenarPor('nombre')">Nombre</th>
              <th class="sortable" data-columna="email" onclick="ordenarPor('email')">Email</th>
              <th class="sortable" data-columna="edad" onclick="ordenarPor('edad')">Edad</th>
              <th class="sortable" data-columna="curso" onclick="ordenarPor('curso')">Curso</th>
              <th class="sortable" data-columna="nota" onclick="ordenarPor('nota')">Nota</th>
            </tr>
          </thead>
          <tbody id="tablaBody">
            <!-- Se llena dinÃ¡micamente -->
          </tbody>
        </table>
      </div>

      <!-- PaginaciÃ³n -->
      <div id="pagination" class="pagination"></div>

      <!-- BotÃ³n cargar desde API -->
      <button class="btn secondary" onclick="cargarDatosAPI()">ğŸŒ Cargar Datos desde API</button>
    </section>

    <!-- Tarjeta 2: EstadÃ­sticas -->
    <section class="card">
      <h2>ğŸ“ˆ EstadÃ­sticas</h2>
      <p class="hint">Resumen de los datos mostrados</p>

      <div class="stats-bar">
        <div class="stat-item">
          <div class="stat-value" id="statTotal">0</div>
          <div class="stat-label">Total</div>
        </div>
        <div class="stat-item">
          <div class="stat-value" id="statPromedio">0</div>
          <div class="stat-label">Promedio</div>
        </div>
        <div class="stat-item">
          <div class="stat-value" id="statMax">0</div>
          <div class="stat-label">Nota MÃ¡x</div>
        </div>
        <div class="stat-item">
          <div class="stat-value" id="statMin">0</div>
          <div class="stat-label">Nota MÃ­n</div>
        </div>
      </div>
    </section>

    <!-- Panel de Debug - ComparaciÃ³n Python vs JS -->
    <section class="card debug">
      <h2>ğŸ Tablas: Python vs JavaScript</h2>
      <p class="hint">ManipulaciÃ³n de datos en tablas</p>

      <div class="comparison">
        <div class="python-code">
          <h4>Python</h4>
          <pre># Lista de diccionarios
estudiantes = [
    {"nombre": "Ana", "nota": 95},
    {"nombre": "Benito", "nota": 87}
]

# Filtrar
filtrados = [
    e for e in estudiantes
    if e["nota"] > 80
]

# Ordenar
ordenados = sorted(
    estudiantes,
    key=lambda x: x["nota"]
)

# Slice (paginaciÃ³n)
pagina = ordenados[0:5]

# Pandas DataFrame
import pandas as pd
df = pd.DataFrame(estudiantes)
filtrados = df[df["nota"] > 80]</pre>
        </div>
        <div class="js-code">
          <h4>JavaScript</h4>
          <pre>// Array de objetos
const estudiantes = [
  {nombre: "Ana", nota: 95},
  {nombre: "Benito", nota: 87}
];

// Filtrar
const filtrados = estudiantes
  .filter(e => e.nota > 80);

// Ordenar
const ordenados = [...estudiantes]
  .sort((a, b) => a.nota - b.nota);

// Slice (paginaciÃ³n)
const pagina = ordenados.slice(0, 5);

// Tabla HTML dinÃ¡mica
tbody.innerHTML = pagina.map(est => `
  <tr>
    <td>${est.nombre}</td>
    <td>${est.nota}</td>
  </tr>
`).join("");</pre>
        </div>
      </div>

      <div class="warning-box">
        <strong>âš ï¸ DIFERENCIAS CLAVE:</strong><br>
        1. Python: <code>dict["campo"]</code> â†’ JS: <code>objeto.campo</code><br>
        2. Python: <code>sorted(lista, key=lambda x: x.campo)</code> â†’ JS: <code>lista.sort((a,b) => a.campo - b.campo)</code><br>
        3. Python: <code>lista[start:end]</code> â†’ JS: <code>lista.slice(start, end)</code><br>
        4. JS usa DOM para crear tabla HTML dinÃ¡micamente
      </div>
    </section>
  </main>

  <script src="app.js"></script>
</body>
</html>
